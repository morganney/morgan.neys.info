(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28],{4432:e=>{e.exports={grid:"_grid__X8XuV",alive:"_alive__IGETn",dead:"_dead__6x_5Y"}},9028:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(5155),a=r(2115),u=r(4432);let i="game is running",s="game has ended";class l{static getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}static getRandomIntInclusive(e,t){return Math.floor(Math.random()*(t-e+1))+e}static getRandomMatrix(e){let t=[];for(let r=0;r<e;r++){t[r]=[];for(let n=0;n<e;n++)t[r][n]=l.getRandomIntInclusive(0,1)}return t}}let c=(e,t,r)=>{let n=e.length;return t<0||t>=n||r<0||r>=n?0:e[t][r]},d=(e,t,r)=>{let n=c(e,t-1,r-1)+c(e,t,r-1);return n+=c(e,t+1,r-1)+c(e,t-1,r),n+=c(e,t+1,r)+c(e,t-1,r+1),n+=c(e,t,r+1)+c(e,t+1,r+1)};function o(){let e=(0,a.useRef)(),t=(0,a.useRef)([]),r=(0,a.useRef)(1),[c,o]=(0,a.useState)(0),[f,g]=(0,a.useState)([]),[m,h]=(0,a.useState)("game not running"),_=(0,a.useMemo)(()=>()=>{let e=[],n=!1,a=i;f.forEach((t,r)=>{e[r]=[],t.forEach((t,a)=>{let u=null,i=d(f,r,a);1===t&&(u=+(2===i||3===i)),0===t&&(u=+(3===i)),1===u&&(n=!0),e[r][a]=u})}),r.current++,n&&JSON.stringify(e)!==JSON.stringify(f)||(a=s,r.current=1),JSON.stringify(e)===JSON.stringify(t.current)?g(l.getRandomMatrix(c)):(t.current=f,g(e),h(a))},[f,c]);return(0,a.useEffect)(()=>{let e=null;return m===i&&(e=setTimeout(_,1250)),m===s&&(t.current=f,h(i),g(l.getRandomMatrix(c))),()=>{clearTimeout(e)}},[m,c,f,_]),(0,a.useEffect)(()=>{if(e.current){let t=Math.ceil(Math.sqrt(12*(e.current.getBoundingClientRect().width/13)));g(l.getRandomMatrix(t)),h(i),o(t)}},[]),(0,n.jsx)("div",{className:u.grid,ref:e,children:f.map((e,t)=>e.map((e,r)=>{let a=1===e?u.alive:u.dead;return(0,n.jsx)("span",{className:a},t+r*r)}))})}}}]);